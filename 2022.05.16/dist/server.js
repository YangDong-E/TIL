(()=>{var e={757:(e,r,n)=>{e.exports=n(671)},671:e=>{"use strict";e.exports=require("regenerator-runtime")}},r={};function n(t){var s=r[t];if(void 0!==s)return s.exports;var o=r[t]={exports:{}};return e[t](o,o.exports,n),o.exports}n.n=e=>{var r=e&&e.__esModule?()=>e.default:()=>e;return n.d(r,{a:r}),r},n.d=(e,r)=>{for(var t in r)n.o(r,t)&&!n.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:r[t]})},n.o=(e,r)=>Object.prototype.hasOwnProperty.call(e,r),(()=>{"use strict";function e(e,r,n,t,s,o,u){try{var c=e[o](u),i=c.value}catch(e){return void n(e)}c.done?r(i):Promise.resolve(i).then(t,s)}function r(r){return function(){var n=this,t=arguments;return new Promise((function(s,o){var u=r.apply(n,t);function c(r){e(u,s,o,c,i,"next",r)}function i(r){e(u,s,o,c,i,"throw",r)}c(void 0)}))}}var t=n(757),s=n.n(t);const o=require("react"),u=require("react-dom/server");var c=n.n(u);const i=require("express");var a=n.n(i);const l=require("react-router-dom"),d=require("react/jsx-runtime"),p=function(){return(0,d.jsxs)("ul",{children:[(0,d.jsx)("li",{children:(0,d.jsx)(l.Link,{to:"/red",children:"Red"})}),(0,d.jsx)("li",{children:(0,d.jsx)(l.Link,{to:"/blue",children:"Blue"})}),(0,d.jsx)("li",{children:(0,d.jsx)(l.Link,{to:"/users",children:"Users"})})]})},f=function(){return(0,d.jsx)("div",{className:"Red",children:"Red"})},h=function(){return(0,d.jsx)(f,{})},v=function(){return(0,d.jsx)("div",{className:"Blue",children:"Blue"})},x=function(){return(0,d.jsx)(v,{})},j=require("react-redux"),m=function(e){var r=e.user,n=r.email,t=r.name,s=r.username;return(0,d.jsxs)("div",{children:[(0,d.jsxs)("h1",{children:[s," (",t,")"]}),(0,d.jsxs)("p",{children:[(0,d.jsx)("b",{children:"e-mail:"})," ",n]})]})};var y=(0,o.createContext)(null);const g=y;var b=function(e){var r=e.resolve,n=(0,o.useContext)(y);return n?(n.done||n.promises.push(Promise.resolve(r())),null):null};function S(e,r,n){return r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function E(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r&&(t=t.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),n.push.apply(n,t)}return n}function w(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?E(Object(n),!0).forEach((function(r){S(e,r,n[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))}))}return e}const O=require("axios");var P=n.n(O);const k=require("redux-saga/effects");var R=s().mark(A),_=s().mark(F),q="users/GET_USERS_PENDING",U="users/GET_USERS_SUCCESS",T="users/GET_USERS_FAILURE",D="users/GET_USER",C="users/GET_USER_SUCCESS",G="users/GET_USER_FAILURE",L=function(e){return{type:D,payload:e}},N=function(e){return P().get("https://jsonplaceholder.typicode.com/users/".concat(e))};function A(e){var r;return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,(0,k.call)(N,e.payload);case 3:return r=n.sent,n.next=6,(0,k.put)((s=r.data,{type:C,payload:s}));case 6:n.next=12;break;case 8:return n.prev=8,n.t0=n.catch(0),n.next=12,(0,k.put)((t=n.t0,{type:G,payload:t,error:!0}));case 12:case"end":return n.stop()}var t,s}),R,null,[[0,8]])}function F(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,k.takeEvery)(D,A);case 2:case"end":return e.stop()}}),_)}var I={users:null,user:null,loading:{users:!1,user:!1},error:{users:null,user:null}};const B=function(e){var r,n,t=e.id,s=(0,j.useSelector)((function(e){return e.users.user})),u=(0,j.useDispatch)();return r=function(){return u(L(t))},(n=(0,o.useContext)(y))&&!n.done&&n.promises.push(Promise.resolve(r())),(0,o.useEffect)((function(){s&&s.id===parseInt(t,10)||u(L(t))}),[u,t,s]),s?(0,d.jsx)(m,{user:s}):null},J=function(e){var r=e.users;return r?(0,d.jsx)("div",{children:(0,d.jsx)("ul",{children:r.map((function(e){return(0,d.jsx)("li",{children:(0,d.jsx)(l.Link,{to:"/users/".concat(e.id),children:e.username})},e.id)}))})}):null},M=(0,j.connect)((function(e){return{users:e.users.users}}),{getUsers:function(){return function(){var e=r(s().mark((function e(r){var n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r({type:q}),e.next=4,P().get("https://jsonplaceholder.typicode.com/users");case 4:n=e.sent,r({type:U,payload:n}),e.next=12;break;case 8:throw e.prev=8,e.t0=e.catch(0),r((t=e.t0,{type:T,error:!0,payload:t})),e.t0;case 12:case"end":return e.stop()}var t}),e,null,[[0,8]])})));return function(r){return e.apply(this,arguments)}}()}})((function(e){var r=e.users,n=e.getUsers;return(0,o.useEffect)((function(){r||n()}),[n,r]),(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(J,{users:r}),(0,d.jsx)(b,{resolve:n})]})})),Y=function(){return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(M,{}),(0,d.jsx)(l.Route,{path:"/users/:id",render:function(e){var r=e.match;return(0,d.jsx)(B,{id:r.params.id})}})]})},$=function(){return(0,d.jsxs)("div",{children:[(0,d.jsx)(p,{}),(0,d.jsx)("hr",{}),(0,d.jsx)(l.Route,{path:"/red",component:h}),(0,d.jsx)(l.Route,{path:"/blue",component:x}),(0,d.jsx)(l.Route,{path:"/users",component:Y})]})},z=require("path");var H=n.n(z);const K=require("fs");var Q=n.n(K);const V=require("redux"),W=require("redux-thunk");var X=n.n(W);const Z=require("redux-saga");var ee=n.n(Z),re=s().mark(ne);function ne(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,k.all)([F()]);case 2:case"end":return e.stop()}}),re)}const te=(0,V.combineReducers)({users:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I,r=arguments.length>1?arguments[1]:void 0;switch(r.type){case q:return w(w({},e),{},{loading:w(w({},e.loading),{},{users:!0})});case U:return w(w({},e),{},{loading:w(w({},e.loading),{},{users:!1}),users:r.payload.data});case T:return w(w({},e),{},{loading:w(w({},e.loading),{},{users:!1}),error:w(w({},e.loading),{},{users:r.payload})});case D:return w(w({},e),{},{loading:w(w({},e.loading),{},{user:!0}),error:w(w({},e.error),{},{user:null})});case C:return w(w({},e),{},{loading:w(w({},e.loading),{},{user:!1}),user:r.payload});case G:return w(w({},e),{},{loading:w(w({},e.loading),{},{user:!1}),error:w(w({},e.error),{},{user:r.payload})});default:return e}}});var se=JSON.parse(Q().readFileSync(H().resolve("./build/asset-manifest.json"),"utf8")),oe=Object.keys(se.files).filter((function(e){return/chunk\.js$/.exec(e)})).map((function(e){return'<script src="'.concat(se.files[e],'"><\/script>')})).join("");function ue(e,r){return'<!DOCTYPE html>\n    <html lang="en">\n    <head>\n        <meta charset="utf-8" />\n        <link rel="shortcut icon" href="/favicon.ico" />\n        <meta\n            name="viewport"\n            content="width=device-width,initial-scale=1,shrink-to-fit=no"\n        />\n        <meta name="theme-color" content="#000000"/>\n        <title>React App</title>\n        <link href="'.concat(se.files["main.css"],'" rel="stylesheet" />\n    </head>\n    <body>\n        <noscript>You need to enable JavaScript to run this app.</noscript>\n        <div id="root">\n            ').concat(e,"\n        </div>\n        ").concat(r,'\n        <script src="').concat(se.files["runtime-main.js"],'"><\/script>\n        ').concat(oe,'\n        <script src"="').concat(se.files["main.js"],'"><\/script>\n        </body>\n        </html>\n    ')}var ce=a()(),ie=function(){var e=r(s().mark((function e(r,n,t){var o,u,i,a,p,f,h,v,x;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o={},u=ee()(),i=(0,V.legacy_createStore)(te,(0,V.applyMiddleware)(X(),u)),a=u.run(ne).toPromise(),p={done:!1,promises:[]},f=(0,d.jsx)(g.Provider,{value:p,children:(0,d.jsx)(j.Provider,{store:i,children:(0,d.jsx)(l.StaticRouter,{location:r.url,context:o,children:(0,d.jsx)($,{})})})}),c().renderToStaticMarkup(f),i.dispatch(Z.END),e.prev=8,e.next=11,a;case 11:return e.next=13,Promise.all(p.promises);case 13:e.next=18;break;case 15:return e.prev=15,e.t0=e.catch(8),e.abrupt("return",n.status(500));case 18:p.done=!0,h=c().renderToString(f),v=JSON.stringify(i.getState()).replace(/</g,"\\u003c"),x="<script>__PRELOADED_STATE__=".concat(v,"<\/script>"),n.send(ue(h,x));case 23:case"end":return e.stop()}}),e,null,[[8,15]])})));return function(r,n,t){return e.apply(this,arguments)}}(),ae=a().static(H().resolve("./build"),{index:!1});ce.use(ae),ce.use(ie),ce.listen(5e3,(function(){console.log("Running on http://localhost:5000")}))})()})();